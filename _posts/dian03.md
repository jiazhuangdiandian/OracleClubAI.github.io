#网桥自身的学习算法

网桥：在数据链路层可以用网桥设备来扩展以太网。网桥工作在数据链路层，它根据MAC 帧的目的地址对收到的帧进行存储转发和过滤。当网桥收到一个数据帧时，并不是
向所有的接口转发这个数据帧，而是会进行有条件的转发（网桥会丢弃CRC检验有差错的帧以及帧长过短和过长的无效帧）再根据此帧的目的MAC地址，然后查找转发表（网
桥会自己维护转发表，转发表中每一条目都记录了到达某个目的MAC地址的数据帧可以从那个接口进行转发）根据转发表中的条目逐步匹配看该从那个接口转发或是否需要
丢弃该数据帧。最简单的网桥只有两个接口（这里所讲的网桥都是两个接口的网桥）。



使用网桥设备的优点：

            1，过滤通信量，增大吞吐量（网桥可以隔离碰撞域提高网络的吞吐量）

            2，扩大了物理网络的范围（扩展以太网）

            3，提供了可靠性（只影响单个网段）

            4，可以互连不同的物理层，不同MAC子层和不同速率

使用网桥设备的缺点：

             1，使用CMSA/CD算法增加了时延

             2，不能进行流量控制，缓存存储空间可能会发生溢出

             3，会产生广播风暴

网桥自学习和转发帧的一般步骤：

              1，网桥收到一帧后先进行自学习。查找转发表中与收到数据帧的源地址有无匹配的项目。如果没有，就在转发表中增加一个项目（记录数据帧的源地址，
              进入网桥的接口和时间）。如果有，则把原来的项目进行更新。

              2，转发帧。查找转发表中与收到数据帧的目的地址有无相匹配的项目。如果没有，则通过其他的接口（但进入网桥的接口除外）进行转发。如果有，则按
              转发表中给出的接口进行转发。但应当注意，若转发表中给出的接口就是该帧进入网桥的接口，则应该丢弃这个数据帧（因为这种情况不需要经过网桥进行
              转发）。

              3，使用生成树算法，即互连载一起的网桥在进行彼此通信后，就能找出原来的网络拓扑的一个子集。在这个子集里，整个连通的网络中不存在回路，即在
              任何两个站点之间只有一条路径。
              
for example：
              如图所示，6个站点通过透明网桥B1和B2连接到一个扩展的局域网上。初始时网桥B1和B2的转发表都为空。假设需要传输的帧序列如下：H2传输给H1；H5
              传输给H4；H3传输给H5；H1传输给H2；H6传输给H5。
              请给出这些帧传输完后网桥B1和网桥B2的转发表。假设转发表表项的格式为：[ 站点， 端口 ]。
![Krszjg.png](https://s2.ax1x.com/2019/10/27/Krszjg.png)
              
              
